# Spree Pages

Simple, easy to use Shopify style pages for Spree 4.2 and up, with Action Text (TRIX rich text editor) ready via configs.

## Installation

1. Add this extension to your Gemfile with this line:

    ```ruby
    gem 'spree_pages', github: 'matthewkennedy/spree_pages', branch: 'main'
    ```

2. Install the gem using Bundler

    ```ruby
    bundle install
    ```

3. Copy & run migrations

    ```ruby
    bundle exec rails g spree_pages:install
    ```

4. Restart your server

  If your server was running, restart it so that it can find the assets properly.

## Congigurations
If you wish to use Rails 6 built in TRIX rich text editor with Action Text for your pages set the following Spree config, and make sure you have Action Text Installed, see this guide to using Action Text with Spree if needed.

```ruby
    #In -> config/initializers/spree.rb
    config.pages_use_action_text = true
```

If you wish to use a custom SVG icon in the admin UI, place your new icon in the assets/images folder use the naming convenstion: `pages-backend.svg` and then set the following config string to the name of your icon:

```ruby
    #In -> config/initializers/spree.rb
    preference :pages_custom_page_icon, :string, default: "pages"
```


## Testing

First bundle your dependencies, then run `rake`. `rake` will default to building the dummy app if it does not exist, then it will run specs. The dummy app can be regenerated by using `rake test_app`.

```shell
bundle
bundle exec rake
```

When testing your applications integration with this extension you may use it's factories.
Simply add this require statement to your spec_helper:

```ruby
require 'spree_pages/factories'
```

## Contributing

If you'd like to contribute, please take a look at the
[instructions](CONTRIBUTING.md) for installing dependencies and crafting a good
pull request.

Copyright (c) 2020 Matthew Kennedy, released under the New BSD License
